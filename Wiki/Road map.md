# Дорожная карта проекта Satellite на Godot Engine 4.4 (.NET)

## Дорожная карта разработки

### Фаза 1: Основы проекта и изометрическая система (готово)

#### Этап 1.1: Настройка проекта и структуры
- Создание проекта в Godot (.NET)
- Настройка структуры папок и управление ресурсами
- Интеграция с GitHub
- Настройка .gitignore и процесса контроля версий

#### Этап 1.2: Базовая изометрическая система
- Создание изометрической тайловой карты
- Настройка изометрической проекции и камеры
- Реализация тайлсетов для разных типов местности
- Настройка системы Y-сортировки для правильного отображения

#### Этап 1.3: Базовая система игровых объектов
- Создание базовых классов для игровых объектов
- Реализация системы компонентов (наследование в C#)
- Создание интерфейсов для общих возможностей (IInteractable, IDamageable)
- Разработка базового UI и системы ввода

### Фаза 2: Системы персонажа и взаимодействия (готово)

#### Этап 2.1: Персонаж игрока
- Создание управляемого персонажа с изометрическим движением
- Настройка коллизий и обнаружения столкновений
- Система камеры, следящей за игроком

#### Этап 2.2: Система взаимодействия с объектами
- Реализация интерактивных объектов (двери, предметы)
- Система обнаружения близости и взаимодействия
- UI подсказки для взаимодействия
- "Кастовые" действия с прогресс-баром для двери 

#### Этап 2.3: Инвентарь и предметы
- Система инвентаря игрока
- Классы для различных типов предметов
- UI для инвентаря и предметов
- Функциональность для подбора, использования и выбрасывания предметов

### Фаза 3: Процедурная генерация и окружение (готово)

#### Этап 3.1: Система генерации уровней (готово)
- Алгоритмы для процедурной генерации комнат и коридоров (готово)
- Различные типы биомов и визуальных стилей (готово)

#### Этап 3.2: Система размещения объектов и предметов
- Разработка базовой системы прездмотов
- Разработка генрерации пердметов на карте
- Разработка системы генерации предметов свойственных биому
- Правила для создания интересных уровней

#### Этап 3.3:  Создание сундуков и контейнеров в мире
- Создание системы "сундуков и контейнеров"
- Вписываение систему сундуков в лор (добываемые предметы с животных, рстений, ресурсов и так далее, это не будут классические сундуки с вещими на карте. Нужно придумать как это будет работать в условиях нашего лора и рейдах на планеты)
- Улучшение системы "сундуков и контейнеров"

### Фаза 4: Космическая база (Спутник) (2-3 недели)

#### Этап 4.1: Архитектура базы
- Система модульного строительства
- Различные функциональные модули базы
- Визуализация и UI для управления базой
- Сохранение и загрузка состояния базы

#### Этап 4.2: Функциональность модулей
- Реализация производственных модулей
- реализация системы крафта
- Исследовательские модули и технологии
- Жизнеобеспечение и ресурсы
- Система улучшений и апгрейдов

#### Этап 4.3: автоматизация
- ИИ для базы
- Автоматизация процессов
- Система заданий и миссий
- Экономика и ресурсы базы
- Создание системы рейдов

#### Этап 4.4: улучшения для персонажа
- Реализация анимации персонажа в 8 направлениях
- Улучшение движения персонажа (бег, прыжок, приседание)
- Добавление перетаскивания предметов между слотами (drag-and-drop)
- Реализация системы горячих клавиш для быстрого доступа к предметам
- Улучшение визуализации для разных типов предметов

#### Этап 4.5: Улучшенная графика и визуальные эффекты
- Реализация освещения и теней
- Система частиц для эффектов
- Атмосферные эффекты (туман, дым, вода)
- Анимированные объекты окружения

#### Этап 4.6: Аудио и обратная связь
- Система звуковых эффектов
- Фоновая музыка и эмбиент
- Haptic feedback и визуальная обратная связь
- Звуковые подсказки для игровых событий

### Фаза 5: ИИ и противники (2-3 недели)

#### Этап 5.1: Базовая система ИИ
- Создание базовых классов для ИИ
- Система патрулирования и обнаружения
- Поведенческие деревья для различных типов ИИ
- Навигация в изометрическом пространстве

#### Этап 5.2: Типы противников
- Различные классы врагов
- Уникальные атаки и поведение
- Система уровней сложности
- Элитные враги и боссы

#### Этап 5.3: Улучшенный ИИ
- Тактические группы врагов
- Система укрытий и стратегического поведения
- Реакция на действия игрока
- Динамические изменения поведения

### Фаза 6: Боевая система (2-3 недели)

#### Этап 6.1: Базовый бой
- Системы атаки и получения урона
- Различные типы оружия
- Система здоровья и щитов
- Эффекты и визуальная обратная связь

#### Этап 6.2: Расширенный бой
- Специальные способности и навыки
- Укрытия и тактические опции
- Система перезарядки и боеприпасов
- Критические удары и уклонение

#### Этап 6.3: Система экипировки
- Модификации оружия
- Вариативность брони и снаряжения
- Влияние экипировки на статистику
- Системы улучшения снаряжения

### Фаза 7: Сохранение и прогресс (1-2 недели)

#### Этап 7.1: Сохранение игры
- Сериализация игрового состояния
- Автосохранение и контрольные точки
- Система загрузки сохранений
- Устойчивость к ошибкам при сохранении

#### Этап 7.2: Система прогрессии
- Опыт и уровни
- Навыки и умения
- Дерево талантов и специализации
- Долгосрочные цели и достижения

### Фаза 8: Мультиплеер (3-4 недели)

#### Этап 8.1: Базовая сетевая инфраструктура
- Настройка сетевого API Godot
- Синхронизация состояния игроков
- Клиент-серверная архитектура
- Обработка подключений и отключений

#### Этап 8.2: Синхронизация игрового мира
- Репликация объектов
- Оптимизация сетевого трафика
- Синхронизация действий и анимаций
- Обработка задержек и предсказание движения

#### Этап 8.3: Расширенный мультиплеер
- Кооперативный режим
- Система распределения лута
- Чат и коммуникация
- PvP элементы (опционально)

### Фаза 9: Оптимизация и полировка (2-3 недели)

#### Этап 9.1: Производительность
- Профилирование и выявление узких мест
- Оптимизация рендеринга
- Улучшение использования памяти
- Многопоточность для критичных операций

#### Этап 9.2: Улучшение UI/UX
- Финальный дизайн интерфейса
- Настройки и доступность
- Туториалы и обучение
- Ретроактивные улучшения управления


#### Этап 9.3: Финальное тестирование
- Поиск и исправление ошибок
- Балансировка геймплея
- Полировка визуальных эффектов
- Завершающие штрихи

## Архитектура проекта в Godot

### Структура сцен
```
Main (Координатор сцен)
├── MainMenu
├── Game
│   ├── World (TileMap + YSort)
│   │   ├── Player
│   │   ├── Entities
│   │   └── InteractiveObjects
│   ├── UI
│   └── Camera
└── SpaceStation (Космическая база)
    ├── Modules
    ├── Personnel
    └── StationUI
```

### Ключевые классы (C#)
```csharp
// Базовый класс для всех сущностей
public abstract class GameEntity : Node2D
{
    // Общие свойства и методы
}

// Интерфейс для взаимодействия
public interface IInteractable
{
    string GetInteractionHint();
    bool CanInteract(Player player);
    bool Interact(Player player);
}

// Класс игрока
public class Player : CharacterBody2D
{
    // Управление, инвентарь, характеристики
}

// Интерактивный объект с прогрессом действия
public class InteractiveObject : Area2D, IInteractable
{
    // Базовая реализация взаимодействия
}

// Генератор уровней
public class LevelGenerator
{
    // Процедурная генерация
}
```

## Сравнение с оригинальной архитектурой Satellite на SDL2

### Аналоги концепций
| SDL2 (Satellite) | Godot (.NET) эквивалент |
|------------------|------------------|
| Engine           | SceneTree / ProjectSettings |
| Scene            | Scene (*.tscn) |
| Entity           | Node2D / CharacterBody2D |
| TileMap          | TileMap узел |
| MapTile          | Tile в TileSet |
| Player           | CharacterBody2D + скрипт |
| InteractiveObject| Area2D + скрипты |
| Door             | Наследник InteractiveObject |
| PickupItem       | Наследник InteractiveObject |
| CollisionSystem  | Physics Server (встроен) |
| IsometricRenderer| YSort + Camera2D |
| ResourceManager  | ResourceLoader (встроен) |

### Основные отличия в подходе
- В Godot используется узловая (node-based) система вместо чистого ООП
- Взаимодействие между объектами через сигналы вместо прямых вызовов методов
- Сцены могут наследоваться и инстанцироваться (сцена как шаблон)
- Ресурсы (Resource) как отдельный тип данных, менее связанный с игровой логикой

## Полезные ресурсы для изучения

### Официальная документация
- [Godot Docs](https://docs.godotengine.org/en/stable/)
- [C# в Godot](https://docs.godotengine.org/en/stable/tutorials/scripting/c_sharp/index.html)
- [Изометрические тайлмапы](https://docs.godotengine.org/en/stable/tutorials/2d/using_tilemaps.html)

### Уроки по изометрии
- [Godot 4 Isometric Game Tutorial](https://www.youtube.com/watch?v=opg5g0eCc0I)
- [Isometric Tilemaps in Godot 4](https://www.youtube.com/watch?v=pJJbCw1dcnY)
- [Godot Recipes - Isometric movement](https://godotrecipes.com/iso-cube/)

### Сетевой код и мультиплеер
- [High-level multiplayer API](https://docs.godotengine.org/en/stable/tutorials/networking/high_level_multiplayer.html)
- [Авторитарный сервер в Godot](https://docs.godotengine.org/en/stable/tutorials/networking/high_level_multiplayer.html#authoritative-server)

